<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MTN MoMo SMS Analytics Dashboard</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- ApexCharts CDN -->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

    <!-- Custom Styles -->
    <link rel="stylesheet" href="css/styles.css" />

    <!-- Configure Tailwind with MTN brand colors -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              "mtn-yellow": "#FFCB05",
              "mtn-blue": "#1E3A8A",
              "mtn-green": "#10B981",
            },
          },
        },
      };
    </script>
  </head>
  <body class="bg-gray-50 min-h-screen">
    <!-- Header Navigation -->
    <header class="bg-white shadow-sm border-b border-gray-200">
      <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
          <!-- Logo and Brand -->
          <div class="flex items-center">
            <div class="flex-shrink-0">
              <h1 class="text-xl font-bold text-mtn-blue">
                MTN MoMo Analytics
              </h1>
            </div>
          </div>

          <!-- Navigation Links -->
          <div class="hidden md:block">
            <div class="ml-10 flex items-baseline space-x-4">              <a
                href="index.html"
                class="bg-blue-50 text-mtn-blue px-3 py-2 rounded-md text-sm font-medium border border-mtn-blue border-opacity-20"
                aria-current="page"
              >
                Dashboard
              </a>
              <a
                href="transactions.html"
                class="text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium"
              >
                Transactions
              </a>
            </div>
          </div>
          <!-- Mobile menu button -->
          <div class="md:hidden">
            <button
              type="button"
              id="mobile-menu-btn"
              class="bg-white inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100"
              aria-expanded="false"
            >
              <span class="sr-only">Open main menu</span>
              <svg
                class="h-6 w-6"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"
                />
              </svg>
            </button>
          </div>
        </div>

        <!-- Mobile menu (hidden by default) -->
        <div id="mobile-menu" class="md:hidden hidden">
          <div
            class="px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white border-t border-gray-200"
          >            <a
              href="index.html"
              class="bg-blue-50 text-mtn-blue block px-3 py-2 rounded-md text-base font-medium border border-mtn-blue border-opacity-20"
              >Dashboard</a
            >
            <a
              href="transactions.html"
              class="text-gray-600 hover:text-gray-900 block px-3 py-2 rounded-md text-base font-medium"
              >Transactions</a
            >
          </div>
        </div>
      </nav>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
      <div class="px-4 py-6 sm:px-0">
        <!-- Page Header -->
        <div class="mb-8">
          <h2 class="text-2xl font-bold text-gray-900">Dashboard</h2>
          <p class="mt-1 text-sm text-gray-600">
            Overview of MTN MoMo transaction analytics
          </p>
        </div>

        <div class="flex flex-col lg:flex-row gap-6">
          <!-- Main Dashboard Content -->
          <div class="flex-1">
            <!-- Summary Cards -->
            <div
              class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"
            >
              <!-- Total Transactions Card -->
              <div class="bg-white rounded-lg shadow-md p-6">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="text-sm font-medium text-gray-600">
                      Total Transactions
                    </p>
                    <p
                      class="text-2xl font-bold text-gray-900"
                      id="total-transactions"
                    >
                      0
                    </p>
                  </div>                  <div class="p-3 rounded-full bg-mtn-blue bg-opacity-20">
                    <svg
                      class="w-6 h-6 text-mtn-blue"
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
                      ></path>
                    </svg>
                  </div>
                </div>
              </div>

              <!-- Total Volume Card -->
              <div class="bg-white rounded-lg shadow-md p-6">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="text-sm font-medium text-gray-600">
                      Total Volume (RWF)
                    </p>
                    <p
                      class="text-2xl font-bold text-gray-900"
                      id="total-volume"
                    >
                      0
                    </p>
                  </div>                  <div class="p-3 rounded-full bg-mtn-green bg-opacity-20">
                    <svg
                      class="w-6 h-6 text-mtn-green"
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"
                      ></path>
                    </svg>
                  </div>
                </div>
              </div>

              <!-- This Month's Transactions Card -->
              <div class="bg-white rounded-lg shadow-md p-6">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="text-sm font-medium text-gray-600">This Month</p>
                    <p
                      class="text-2xl font-bold text-gray-900"
                      id="month-transactions"
                    >
                      0
                    </p>
                  </div>                  <div class="p-3 rounded-full bg-mtn-yellow bg-opacity-20">
                    <svg
                      class="w-6 h-6 text-mtn-yellow"
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
                      ></path>
                    </svg>
                  </div>
                </div>
              </div>

              <!-- Average Transaction Amount Card -->
              <div class="bg-white rounded-lg shadow-md p-6">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="text-sm font-medium text-gray-600">
                      Average Amount
                    </p>
                    <p class="text-2xl font-bold text-gray-900" id="avg-amount">
                      0
                    </p>
                  </div>                  <div class="p-3 rounded-full bg-mtn-green bg-opacity-20">
                    <svg
                      class="w-6 h-6 text-mtn-green"
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"
                      ></path>
                    </svg>
                  </div>
                </div>
              </div>
            </div>

            <!-- Charts Section -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
              <!-- Transaction Volume by Type Chart -->
              <div class="bg-white rounded-lg shadow-md p-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">
                  Transaction Volume by Type
                </h3>
                <div id="volume-by-type-chart" class="h-64"></div>
              </div>

              <!-- Payment Distribution Chart -->
              <div class="bg-white rounded-lg shadow-md p-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">
                  Payment Distribution
                </h3>
                <div id="payment-distribution-chart" class="h-64"></div>
              </div>
            </div>

            <!-- Monthly Transaction Summary Chart -->
            <div class="bg-white rounded-lg shadow-md p-6">
              <h3 class="text-lg font-semibold text-gray-900 mb-4">
                Monthly Transaction Summary
              </h3>
              <div id="monthly-summary-chart" class="h-80"></div>
            </div>
          </div>

          <!-- Search and Filter Sidebar -->
          <div class="w-full lg:w-80 space-y-6">
            <!-- Search and Filters -->
            <div class="bg-white rounded-lg shadow-md p-6">
              <h3 class="text-lg font-semibold text-gray-900 mb-4">
                Filters & Search
              </h3>

              <!-- Transaction Type Filter -->
              <div class="mb-4">
                <label
                  for="transaction-type"
                  class="block text-sm font-medium text-gray-700 mb-2"
                >
                  Transaction Type
                </label>
                <select
                  id="transaction-type"
                  class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-mtn-blue focus:border-transparent"
                >
                  <option value="">All Types</option>
                  <option value="incoming_money">Incoming Money</option>
                  <option value="payment_to_code">Payment to Code</option>
                  <option value="airtime_purchase">Airtime Purchase</option>
                  <option value="bill_payment">Bill Payment</option>
                </select>
              </div>

              <!-- Date Range Filter -->
              <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2"
                  >Date Range</label
                >
                <div class="grid grid-cols-2 gap-2">
                  <input
                    type="date"
                    id="date-from"
                    class="border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  />
                  <input
                    type="date"
                    id="date-to"
                    class="border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  />
                </div>
              </div>

              <!-- Amount Range Filter -->
              <div class="mb-4">
                <label
                  for="amount-range"
                  class="block text-sm font-medium text-gray-700 mb-2"
                >
                  Amount Range (RWF)
                </label>
                <div class="grid grid-cols-2 gap-2">
                  <input
                    type="number"
                    id="amount-min"
                    placeholder="Min"
                    class="border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  />
                  <input
                    type="number"
                    id="amount-max"
                    placeholder="Max"
                    class="border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  />
                </div>
              </div>

              <!-- Apply Filters Button -->
              <button
                id="apply-filters"
                class="w-full bg-mtn-blue text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-mtn-blue focus:ring-offset-2 transition duration-200"
              >
                Apply Filters
              </button>

              <!-- Reset Filters Button -->
              <button
                id="reset-filters"
                class="w-full mt-2 bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition duration-200"
              >
                Reset Filters
              </button>
            </div>

            <!-- Quick Stats -->
            <div class="bg-white rounded-lg shadow-md p-6">
              <h3 class="text-lg font-semibold text-gray-900 mb-4">
                Quick Stats
              </h3>
              <div class="space-y-3">
                <div class="flex justify-between items-center">
                  <span class="text-sm text-gray-600"
                    >Today's Transactions</span
                  >
                  <span
                    class="text-sm font-semibold text-gray-900"
                    id="today-transactions"
                    >0</span
                  >
                </div>
                <div class="flex justify-between items-center">
                  <span class="text-sm text-gray-600"
                    >Pending Transactions</span
                  >
                  <span
                    class="text-sm font-semibold text-yellow-600"
                    id="pending-transactions"
                    >0</span
                  >
                </div>
                <div class="flex justify-between items-center">
                  <span class="text-sm text-gray-600">Failed Transactions</span>
                  <span
                    class="text-sm font-semibold text-red-600"
                    id="failed-transactions"
                    >0</span
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Loading Overlay -->
    <div
      id="loading-overlay"
      class="fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50 hidden"
    >
      <div class="bg-white rounded-lg p-6 max-w-sm w-full mx-4">
        <div class="flex items-center">
          <div
            class="animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"
          ></div>
          <span class="ml-3 text-gray-700">Loading data...</span>
        </div>
      </div>
    </div>

    <!-- JavaScript Files -->
    <script src="data/mock-data.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/dashboard.js"></script>
  </body>
</html>
